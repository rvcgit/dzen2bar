#!/usr/bin/env sh
rm -rf /tmp/WS*
rm -rf /tmp/AWS
fws="$(wmctrl -d | sed -n '/* /s///p' | awk '{print$NF}')"

tags() { \
	      WS=$(bspc wm -g |
		       sed -Ee 's/:m/ \n  M\>/g' \
			   -e 's/:O|:F/ \n ^fg(#82d600)/g'\
			   -e 's/:o/ \n ^fg(#6366F1)/g' \
			   -e 's/:f/ \n ^fg(#52525B)/g' \
			   -e 's/:U/ \n ^fg(#fafa37)/g' \
			   -e 's/:u/ \n ^fg(#d56c30)/g' \
			   -e 's/:/ \n  /g' \
			   | grep "fg" \
			   | sed 's/Desktop/S/g' \
			   | tr '\n' '@' \
			   | sed 's/@/^fg(#3f5f4f)\|/g')

layout=$(bspc query -T -d | grep -q '"userLayout":"monocle"' && echo "  " || echo "  ")

echo "^bg(#111827) $WS^fg(#82d600)^ca(1,bspc desktop -l tiled || bspc desktop -l monocle)$layout^ca()"
}

wsnames() {
fws=$(wmctrl -d | sed -n '/* /s///p' | awk '{print$NF}')
ufws=$(wmctrl -d | sed -n '/- /s///p' | awk '{print$NF}')
#bspwmWS=$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d')
ws1=" $(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $4}')"
ws2=" $(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $5}')"
ws3=" $(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $6}')"
ws4=" $(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $7}')"
ws5=" $(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $8}')"
      
if [ $fws = $ws1 ]; then WS1=$(echo "^ca(1,xdotool set_desktop 0)^bg(#030303)^fg(#ffd700)$ws1 ^ca()") ; else WS1=$(echo "^ca(1,xdotool set_desktop 0)^bg(#111827)^fg(#525e54)$ws1 ^ca()");fi
if [ $fws = $ws2 ]; then WS2=$(echo "^ca(1,xdotool set_desktop 1)^bg(#030303)^fg(#ffd700)$ws2 ^ca()") ; else WS2=$(echo "^ca(1,xdotool set_desktop 1)^bg(#111827)^fg(#525e54)$ws2 ^ca()");fi
if [ $fws = $ws3 ]; then WS3=$(echo "^ca(1,xdotool set_desktop 2)^bg(#030303)^fg(#ffd700)$ws3 ^ca()") ; else WS3=$(echo "^ca(1,xdotool set_desktop 2)^bg(#111827)^fg(#525e54)$ws3 ^ca()");fi
if [ $fws = $ws4 ]; then WS4=$(echo "^ca(1,xdotool set_desktop 3)^bg(#030303)^fg(#ffd700)$ws4 ^ca()") ; else WS4=$(echo "^ca(1,xdotool set_desktop 3)^bg(#111827)^fg(#525e54)$ws4 ^ca()");fi
if [ $fws = $ws5 ]; then WS5=$(echo "^ca(1,xdotool set_desktop 4)^bg(#030303)^fg(#ffd700)$ws5 ^ca()") ; else WS5=$(echo "^ca(1,xdotool set_desktop 4)^bg(#111827)^fg(#525e54)$ws5^ca()") ;fi

layout=$(bspc query -T -d | grep -q '"userLayout":"monocle"' && echo "  " || echo "  ")
echo "$WS1$WS2$WS3$WS4$WS5 ^fg(#ffd700)$layout"
#echo $fws > /tmp/AWS
}
tags  ## run either "tags" OR "wsnames" to suit your chice ! sodont forget to comment out the flavor not needed
#wsnames
