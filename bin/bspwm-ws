#!/usr/bin/env sh
rm -rf /tmp/WS*
rm -rf /tmp/AWS
workspace() { \
	      WS=$(bspc wm -g |
		       sed -Ee 's/:m/ \n  M\>/g' \
			   -e 's/:O|:F/ \n ^bg(#110022)^fg(#6EE7B7)/g'\
			   -e 's/:o/ \n ^bg(#110022)^fg(#4A5459)/g' \
			   -e 's/:U/ \n ^bg(#110022)^fg(#fafa37)/g' \
			   -e 's/:u/ \n ^bg(#110022)^fg(#d56c30)/g' \
			   -e 's/:/ \n  /g' \
			   | grep "fg" \
			   | sed 's/Desktop/S/g' \
			   | tr '\n' '@' \
			   | sed 's/@/^fg(#525E54)\|/g')

	      echo $WS
}

bspwmWS() {
fws=$(wmctrl -d | sed -n '/* /s///p' | awk '{print$NF}')
ufws=$(wmctrl -d | sed -n '/- /s///p' | awk '{print$NF}')
#bspwmWS=$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d')

echo $fws > /tmp/AWS
ws1="$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $4}')"
ws2="$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $5}')"
ws3="$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $6}')"
ws4="$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $7}')"
ws5="$(cat ~/.config/bspwm/bspwmrc | grep 'bspc monitor -d' | awk '{print $8}')"
      
if [ $fws = $ws1 ]; then echo "^fg(#ffd700)$ws1 " > /tmp/WS1; else echo "^fg(#525e54)$ws1 " > /tmp/WS1;fi
if [ $fws = $ws2 ]; then echo "^fg(#ffd700)$ws2 " > /tmp/WS2; else echo "^fg(#525e54)$ws2 " > /tmp/WS2; fi
if [ $fws = $ws3 ]; then echo "^fg(#ffd700)$ws3 " > /tmp/WS3; else echo "^fg(#525e54)$ws3 " > /tmp/WS3; fi
if [ $fws = $ws4 ]; then echo "^fg(#ffd700)$ws4 " > /tmp/WS4; else echo "^fg(#525e54)$ws4 " > /tmp/WS4; fi
if [ $fws = $ws5 ]; then echo "^fg(#ffd700)$ws5 " > /tmp/WS5; else echo "^fg(#525e54)$ws5 " > /tmp/WS5; fi
}

workspace
